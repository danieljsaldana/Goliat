<progress class="reading-progress" value="0" max="100" aria-label="Reading progress"></progress>

{{#is "post"}}
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const progressBar = document.querySelector('.reading-progress');

      function updateProgress() {
        const totalHeight = document.body.clientHeight;
        const windowHeight = document.documentElement.clientHeight;
        const position = window.scrollY;
        const progress = (position / (totalHeight - windowHeight)) * 100;
        progressBar.setAttribute('value', progress);
        requestAnimationFrame(updateProgress);
      }

      requestAnimationFrame(updateProgress);
    });
  </script>
{{/is}}
